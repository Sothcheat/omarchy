#!/bin/bash

# Get current TLP power profile
# Returns: power-saver, balanced, or performance

STATE_FILE="$HOME/.local/state/omarchy/tlp-profile"

# If state file exists, validate and return its value
if [[ -f "$STATE_FILE" ]]; then
  PROFILE=$(cat "$STATE_FILE" 2>/dev/null)

  # Validate profile name
  case "$PROFILE" in
    power-saver|balanced|performance)
      echo "$PROFILE"
      exit 0
      ;;
  esac
fi

# Default to balanced if no valid state found
echo "balanced"
