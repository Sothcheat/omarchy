#!/bin/bash

# Unified power profile setter
# Auto-detects PPD or TLP and calls appropriate backend

PROFILE="$1"

if command -v tlp &>/dev/null && [[ -f /etc/tlp.d/00-omarchy-base.conf ]]; then
  # TLP is installed
  omarchy-tlp-profile-set "$PROFILE"
elif command -v powerprofilesctl &>/dev/null; then
  # PPD is installed
  powerprofilesctl set "$PROFILE"
else
  echo "Error: No power management system found"
  exit 1
fi
